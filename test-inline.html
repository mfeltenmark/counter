<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST INLINE - Min Resa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .gradient-bg {
            background: linear-gradient(135deg, #FF6B35 0%, #FFA500 25%, #FFD700 50%, #9ACD32 75%, #4CAF50 100%);
            background-size: 400% 400%;
            animation: gradient-shift 15s ease infinite;
        }
        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen p-8">
    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-3xl p-8 shadow-lg">
            <h1 class="text-3xl font-bold mb-4 text-gray-800">ðŸ”§ TEST INLINE SCRIPT</h1>

            <label for="start-date" class="block text-lg font-semibold mb-4 text-gray-800">
                ðŸ“… NÃ¤r bÃ¶rjade din resa?
            </label>
            <input
                type="date"
                id="start-date"
                class="w-full bg-gray-50 border-2 border-gray-200 rounded-xl px-4 py-3 mb-6 text-gray-800 text-lg"
            >
            <button
                id="calculate-btn"
                class="w-full bg-gradient-to-r from-orange-500 to-green-500 text-white py-4 rounded-xl font-bold text-lg"
            >
                ðŸŽ‰ TEST INLINE KNAPP
            </button>

            <div id="result" class="mt-6 p-4 bg-blue-50 rounded-lg hidden">
                <p class="text-xl font-bold" id="result-text">Resultat visas hÃ¤r</p>
            </div>

            <div class="mt-4 p-4 bg-gray-100 rounded-lg text-sm">
                <p><strong>Console log:</strong></p>
                <div id="console-log" class="font-mono text-xs"></div>
            </div>
        </div>
    </div>

    <!-- INLINE SCRIPT - direkt i HTML -->
    <script>
        const consoleLog = document.getElementById('console-log');
        function log(msg) {
            console.log(msg);
            const p = document.createElement('p');
            p.textContent = msg;
            consoleLog.appendChild(p);
        }

        log("âœ… INLINE Script loaded!");

        const startDate = document.getElementById('start-date');
        const calcBtn = document.getElementById('calculate-btn');
        const result = document.getElementById('result');
        const resultText = document.getElementById('result-text');

        // Set today as default
        const today = new Date().toISOString().split('T')[0];
        startDate.value = today;
        log(`Today: ${today}`);

        calcBtn.addEventListener('click', () => {
            log("ðŸŽ¯ BUTTON CLICKED!");

            const selectedDate = startDate.value;
            log(`Selected date: ${selectedDate}`);

            if (!selectedDate) {
                alert('Inget datum valt!');
                return;
            }

            // Calculate days
            const start = new Date(selectedDate);
            const now = new Date();
            const diffTime = Math.abs(now - start);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            log(`Days calculated: ${diffDays}`);

            resultText.textContent = `ðŸŽ‰ ${diffDays} dagar stark! ðŸ’ª`;
            result.classList.remove('hidden');

            // Fire confetti
            if (typeof confetti !== 'undefined') {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 }
                });
                log("Confetti fired!");
            }
        });

        log("âœ… Event listener attached!");
    </script>
</body>
</html>
